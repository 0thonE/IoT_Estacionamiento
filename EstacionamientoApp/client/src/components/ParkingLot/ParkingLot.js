import React, { useState } from "react";

import Car from '../Car';

let dumb_parkingSpots = [
  { id: 'C24-1', x: 40, y: 30, parkingState: 'empty', user: null },
  { id: 'C24-2', x: 116, y: 30, parkingState: 'in_use', user: null },
  { id: 'C24-3', x: 193, y: 30, parkingState: 'empty', user: null },
  { id: 'C24-4', x: 270, y: 30, parkingState: 'empty', user: null },
  { id: 'C24-5', x: 347, y: 30, parkingState: 'assigned', user: null },
];

const ParkingSpace = ({ parkingNumber, x = 40, y = 30, pState = 'empty', children, ...props }) => {

  if (pState?.toLocaleLowerCase() === 'user_assigned')
    return <g transform={`translate(${x - 1.5},${y - 4})`}>
      <path
        onClick={() => alert('parking space')}
        d="M0 0h66v130h-66V26z"
        fill="hsla(125,100%,50%,0.5)"
      />
      <path
        fill-rule="evenodd" clip-rule="evenodd"
        d="M0 0H60L0 60V64.3431L64.3431 0ZM0 70V74.3431L66 8.34314V4L0 70ZM0 80V84.3431L66 18.3431V14L0 80ZM0 94.3431V90L66 24V28.3431L0 94.3431ZM0 100L66 34V38.3431L0 104.343V100ZM0 114.343V110L66 44V48.3431L0 114.343ZM0 124.343L66 58.3431V54L0 120V124.343ZM66 64V68.3431L4.34314 130H0L66 64ZM66 74L10 130H14.3431L66 78.3431V74ZM44.3431 130H40L66 104V108.343L44.3431 130ZM60 130H66V124L60 130ZM54.3431 130H50L66 114V118.343L54.3431 130ZM20 130H24.3431L66 88.3431V84L20 130ZM66 94L30 130H34.3431L66 98.3431V94ZM30 0H34.3431L0 34.3431V30L30 0ZM0 44.3431V40L40 0H44.3431L0 44.3431ZM54.3431 0H50L0 50V54.3431L54.3431 0ZM4.34314 0H0V4.34315L4.34314 0ZM0 10V14.3431L14.3431 0H10L0 10ZM20 0H24.3431L0 24.3431V20L20 0Z"
        fill="#80FF00" fill-opacity="0.8" />
      <foreignObject x={0} y={0} width="67" height="130" style={{ overflow: "visible" }}>
        <div className="base" xmlns="http://www.w3.org/1999/xhtml">
          <div className="dialog-container" >
            <p>Espacio assignado: <br />
              <b>{parkingNumber}</b>
            </p>
          </div>
        </div>
      </foreignObject>
    </g>


  if (pState?.toLocaleLowerCase() === 'user_in_use')
    return (<g transform={`translate(${x},${y})`}><Car car_color={`#${Math.floor(Math.random() * 16777215).toString(16).padStart(6, 0)}`} /></g>)

  if (pState?.toLocaleLowerCase() === 'admin_in_use')
    return (<g transform={`translate(${x},${y})`}><Car user={props.user} /></g>)

  return null



}

const SvgEstacionamiento = ({ parking_view = 'user', ...props }) => {
  const [parkingSpots, setParkingSpots] = useState(dumb_parkingSpots);


  return (
    <svg
      width="100%"
      viewBox="0 0 450 289"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <path d="M450 0H0v289h450V0z" fill="#52545C" />
      <path
        d="M14.67 0H0v163.09h14.67V0zM450 0h-14.67v163.09H450V0z"
        fill="#55BD74"
      />
      <path
        d="M418.89 123.21h-4.3v14.23h4.3v-14.23zM418.89 41.76h-4.3v14.23h4.3V41.76zM418.89 62.12h-4.3v14.23h4.3V62.12zM418.89 82.48h-4.3v14.23h4.3V82.48zM418.89 102.85h-4.3v14.23h4.3v-14.23zM418.89 157.8v-14.22h-4.3v14.22h-3.54v3.59h11.38v-3.59h-3.54zM342.2 123.21h-4.3v14.23h4.3v-14.23zM342.2 41.76h-4.3v14.23h4.3V41.76zM342.2 62.12h-4.3v14.23h4.3V62.12zM342.2 82.48h-4.3v14.23h4.3V82.48zM342.2 102.85h-4.3v14.23h4.3v-14.23zM342.19 143.58h-4.29v14.22h-3.54v3.59h11.37v-3.59h-3.54v-14.22zM265.5 123.21h-4.3v14.23h4.3v-14.23zM265.5 41.76h-4.3v14.23h4.3V41.76zM265.5 62.12h-4.3v14.23h4.3V62.12zM265.5 82.48h-4.3v14.23h4.3V82.48zM265.5 102.85h-4.3v14.23h4.3v-14.23zM265.5 143.58h-4.3v14.22h-3.54v3.59h11.37v-3.59h-3.53v-14.22zM188.8 123.21h-4.3v14.23h4.3v-14.23zM188.8 41.76h-4.3v14.23h4.3V41.76zM188.8 62.12h-4.3v14.23h4.3V62.12zM188.8 82.48h-4.3v14.23h4.3V82.48zM188.8 102.85h-4.3v14.23h4.3v-14.23zM188.8 143.58h-4.3v14.22h-3.53v3.59h11.37v-3.59h-3.54v-14.22zM112.11 123.21h-4.3v14.23h4.3v-14.23zM112.11 41.76h-4.3v14.23h4.3V41.76zM112.11 62.12h-4.3v14.23h4.3V62.12zM112.11 82.48h-4.3v14.23h4.3V82.48zM112.11 102.85h-4.3v14.23h4.3v-14.23zM112.1 143.58h-4.29v14.22h-3.54v3.59h11.37v-3.59h-3.54v-14.22zM35.41 123.21h-4.3v14.23h4.3v-14.23zM35.41 22.09h72.4v13.53h4.29V22.09h72.4v13.53h4.3V22.09h72.4v13.53h4.3V22.09h72.4v13.53h4.29V22.09h72.4v13.53h4.3V17.79H31.11V35.62h4.3V22.09zM35.41 41.76h-4.3v14.23h4.3V41.76zM35.41 62.12h-4.3v14.23h4.3V62.12zM35.41 82.48h-4.3v14.23h4.3V82.48zM35.41 102.85h-4.3v14.23h4.3v-14.23zM35.41 143.58h-4.3v14.22h-3.54v3.59h11.38v-3.59h-3.54v-14.22zM148.3 222.85h-14.74v4.3h14.74v-4.3zM43.22 222.85H28.48v4.3h14.74v-4.3zM64.23 222.85H49.49v4.3h14.74v-4.3zM85.25 222.85H70.51v4.3h14.74v-4.3zM106.27 222.85H91.53v4.3h14.74v-4.3zM127.28 222.85h-14.74v4.3h14.74v-4.3zM253.39 222.85h-14.74v4.3h14.74v-4.3zM169.32 222.85h-14.74v4.3h14.74v-4.3zM190.34 222.85H175.6v4.3h14.74v-4.3zM211.35 222.85h-14.74v4.3h14.74v-4.3zM232.37 222.85h-14.74v4.3h14.74v-4.3zM358.47 222.85h-14.74v4.3h14.74v-4.3zM274.41 222.85h-14.74v4.3h14.74v-4.3zM295.42 222.85h-14.74v4.3h14.74v-4.3zM316.44 222.85H301.7v4.3h14.74v-4.3zM337.46 222.85h-14.74v4.3h14.74v-4.3zM379.49 222.85h-14.74v4.3h14.74v-4.3zM400.51 222.85h-14.74v4.3h14.74v-4.3zM421.53 222.85h-14.74v4.3h14.74v-4.3z"
        fill="#E2E2E2"
      />
      <g clipPath="url(#Estacionamiento_svg__clip0_6_306)">
        <path d="M436 178.095V264h7v-85.905h-7z" fill="#fff" />
        <path
          d="M436 192.695l7-1.882v-4.545l-7 1.881v4.546zM436 202.741l7-1.882v-4.546l-7 1.882v4.546zM436 182.427l7-1.882V176l-7 1.881v4.546zM436 212.598l7-1.881v-4.546l-7 1.882v4.545zM436 222.644l7-1.882v-4.545l-7 1.881v4.546zM436 232.584l7-1.882v-4.545l-7 1.881v4.546zM436 242.63l7-1.882v-4.545l-7 1.881v4.546zM436 252.487l7-1.881v-4.545l-7 1.881v4.545zM436 262.533l7-1.881v-4.546l-7 1.882v4.545z"
          fill="#F15746"
        />
      </g>
      <path fill="#F87618" d="M411 254h38v34h-38z" />
      <path
        d="M103 151.906c0 2.252-1.181 4.094-2.625 4.094h-57.75c-1.444 0-2.625-1.842-2.625-4.094V29.094C40 26.842 41.181 25 42.625 25h57.75c1.444 0 2.625 1.842 2.625 4.094v122.812z"
        fill="#325AAA"
      />
      <path
        d="M66.73 69.49c-5.672 0-10.286-4.617-10.286-10.292a10.293 10.293 0 014.436-8.459l-.214-3.721c-4.466 2.234-7.541 6.856-7.541 12.18 0 7.503 6.104 13.613 13.606 13.613 5.52 0 10.275-3.305 12.408-8.038l-2.129-5.222c-.187 5.511-4.725 9.94-10.28 9.94z"
        fill="#fff"
      />
      <path
        d="M89.855 65.957a1.657 1.657 0 00-1.893-1.385l-2.982.462-4.916-12.06a1.66 1.66 0 00-1.536-1.033l-12.264-.008-.262-4.57h7.532a1.659 1.659 0 001.173-2.835 1.659 1.659 0 00-1.173-.487H65.81l-.335-5.834a3.985 3.985 0 003.666-3.265 3.99 3.99 0 00-2.277-4.35 3.985 3.985 0 00-5.63 3.608 3.99 3.99 0 00.828 2.46l.978 17.028a1.658 1.658 0 001.656 1.567l12.716.008 4.99 12.238a1.66 1.66 0 001.792 1.012l4.276-.665a1.655 1.655 0 001.385-1.891zM48.362 77.72h-3.426a.083.083 0 00-.082.081v10.07a.083.083 0 00.082.083h1.66a.082.082 0 00.081-.082v-3.737h1.684c2.12 0 3.07-1.612 3.07-3.209 0-1.596-.949-3.206-3.07-3.206zm-1.684 1.628h1.488c.848 0 1.397.619 1.397 1.578 0 .96-.549 1.582-1.397 1.582h-1.488v-3.16zM56.485 77.778a.08.08 0 00-.079-.06h-1.992a.082.082 0 00-.078.06l-3.018 10.073a.08.08 0 00.012.071.083.083 0 00.067.034h1.796a.082.082 0 00.078-.06l.54-1.933h3.197l.54 1.933a.082.082 0 00.079.06h1.8a.082.082 0 00.082-.082.087.087 0 00-.014-.046l-3.01-10.05zm.146 6.539H54.19l1.22-4.425 1.22 4.425zM65.472 83.832c.913-.285 1.853-1.19 1.853-2.92 0-1.88-1.25-3.192-3.04-3.192h-3.471a.082.082 0 00-.082.081v10.07a.082.082 0 00.082.083h1.66a.082.082 0 00.082-.082V84.15h1.118l1.698 3.757a.08.08 0 00.075.048h1.875a.082.082 0 00.082-.082.08.08 0 00-.022-.056l-1.91-3.984zm-2.916-4.484h1.488c.849 0 1.397.619 1.397 1.578 0 .96-.548 1.582-1.397 1.582h-1.488v-3.16zM72.837 82.558l3.258-4.71a.085.085 0 00.005-.085.077.077 0 00-.072-.043H74.08a.081.081 0 00-.068.037l-3.003 4.615v-4.57a.083.083 0 00-.083-.082H69.27a.082.082 0 00-.083.081v10.07a.083.083 0 00.083.083h1.659a.082.082 0 00.082-.082v-2.963l.699-1.036 2.529 4.044a.084.084 0 00.069.039h1.98a.082.082 0 00.082-.082.083.083 0 00-.03-.06l-3.502-5.256zM79.395 77.72h-1.66a.082.082 0 00-.082.081v10.07a.083.083 0 00.082.083h1.66a.082.082 0 00.082-.082v-10.07a.082.082 0 00-.082-.082zM88.737 77.72h-1.675a.083.083 0 00-.083.081v6.282l-3.513-6.321a.082.082 0 00-.072-.042h-1.69a.082.082 0 00-.081.081v10.07a.083.083 0 00.082.083h1.66a.082.082 0 00.082-.082v-6.477l3.618 6.516a.082.082 0 00.072.043h1.6a.082.082 0 00.082-.083v-10.07a.082.082 0 00-.082-.081zM98.064 82.43h-3.711a.082.082 0 00-.082.082v1.465a.082.082 0 00.082.082h2.06v1.759c-.3.33-.88.673-1.62.673-1.416 0-2.333-1.431-2.333-3.647 0-2.216.917-3.648 2.333-3.648.742 0 1.38.452 1.797 1.269a.081.081 0 00.11.037l1.343-.649a.081.081 0 00.041-.046.082.082 0 00-.003-.06c-.698-1.434-1.835-2.19-3.288-2.19-2.514 0-4.2 2.126-4.2 5.291 0 3.165 1.688 5.291 4.2 5.291 1.336 0 2.49-.54 3.337-1.57a.078.078 0 00.019-.052v-4.001a.083.083 0 00-.024-.062.082.082 0 00-.061-.024zM59.704 91.893c-2.468 0-4.127 2.126-4.127 5.291 0 3.165 1.66 5.291 4.127 5.291 2.467 0 4.14-2.125 4.14-5.29 0-3.166-1.663-5.292-4.14-5.292zm0 8.939c-1.372 0-2.257-1.433-2.257-3.648s.885-3.647 2.257-3.647 2.256 1.432 2.256 3.647c0 2.216-.885 3.648-2.256 3.648zM72.73 92.06h-1.676a.082.082 0 00-.082.082v6.28l-3.514-6.32a.081.081 0 00-.071-.042h-1.69a.082.082 0 00-.082.082v10.071c0 .022.009.042.024.058a.084.084 0 00.058.024h1.66a.083.083 0 00.057-.025.08.08 0 00.024-.057v-6.478l3.62 6.518a.083.083 0 00.03.03.077.077 0 00.042.012h1.6a.083.083 0 00.057-.025.08.08 0 00.024-.057V92.142a.08.08 0 00-.081-.082zM80.156 100.665H76.72v-8.524a.082.082 0 00-.082-.082H74.98a.082.082 0 00-.082.082v10.071a.083.083 0 00.082.082h5.176a.082.082 0 00.082-.082v-1.464a.085.085 0 00-.024-.059.084.084 0 00-.058-.024zM87.41 92.1a.082.082 0 00-.069-.041H85.5a.082.082 0 00-.074.046l-2.04 4.153-2.04-4.153a.082.082 0 00-.073-.046H79.43a.08.08 0 00-.08.08c0 .014.004.028.01.04l3.116 5.856v4.176c0 .011.002.022.006.032.004.01.01.019.017.026a.075.075 0 00.027.018c.01.004.02.006.031.006h1.663c.01 0 .021-.002.031-.006a.075.075 0 00.027-.018.073.073 0 00.018-.026.085.085 0 00.006-.032v-4.175l3.114-5.856a.08.08 0 00-.005-.08z"
        fill="#fff"
      />
      <path
        d="M181 151.906c0 2.252-1.181 4.094-2.625 4.094h-57.75c-1.444 0-2.625-1.842-2.625-4.094V29.094c0-2.252 1.181-4.094 2.625-4.094h57.75c1.444 0 2.625 1.842 2.625 4.094v122.812z"
        fill="#325AAA"
      />
      <path
        d="M144.731 69.49c-5.673 0-10.287-4.617-10.287-10.292a10.29 10.29 0 014.436-8.458l-.214-3.722c-4.466 2.234-7.541 6.856-7.541 12.18 0 7.503 6.104 13.613 13.606 13.613 5.52 0 10.275-3.305 12.408-8.038l-2.129-5.222c-.187 5.511-4.725 9.94-10.279 9.94z"
        fill="#fff"
      />
      <path
        d="M167.855 65.957a1.658 1.658 0 00-1.893-1.385l-2.982.462-4.916-12.06a1.66 1.66 0 00-1.536-1.033l-12.264-.008-.262-4.57h7.532a1.662 1.662 0 001.174-2.835 1.662 1.662 0 00-1.174-.487h-7.724l-.335-5.834a3.989 3.989 0 10-3.381-6.456 3.99 3.99 0 00-.032 4.91l.978 17.027a1.657 1.657 0 001.656 1.567l12.716.008 4.991 12.238a1.657 1.657 0 001.791 1.012l4.276-.665a1.651 1.651 0 001.357-1.245c.052-.211.061-.43.028-.646zM126.362 77.72h-3.426a.082.082 0 00-.082.082v10.07c0 .022.009.043.024.058a.08.08 0 00.058.024h1.659a.08.08 0 00.058-.024.08.08 0 00.024-.058v-3.737h1.684c2.12 0 3.07-1.612 3.07-3.209 0-1.596-.949-3.206-3.069-3.206zm-1.684 1.628h1.488c.848 0 1.397.619 1.397 1.578 0 .96-.549 1.582-1.397 1.582h-1.488v-3.16zM134.485 77.778a.084.084 0 00-.029-.043.082.082 0 00-.05-.017h-1.992a.083.083 0 00-.049.017.084.084 0 00-.029.043l-3.018 10.073a.067.067 0 00-.002.037.083.083 0 00.014.034.084.084 0 00.067.034h1.796a.08.08 0 00.049-.017.078.078 0 00.029-.043l.54-1.933h3.197l.54 1.933a.081.081 0 00.079.06h1.8a.08.08 0 00.058-.024.084.084 0 00.024-.058.085.085 0 00-.014-.046l-3.01-10.05zm.146 6.539h-2.441l1.22-4.425 1.221 4.425zM143.472 83.832c.913-.285 1.853-1.19 1.853-2.92 0-1.88-1.251-3.192-3.04-3.192h-3.471a.084.084 0 00-.058.024.087.087 0 00-.024.057v10.07c0 .012.002.022.006.032.004.01.01.02.018.027a.088.088 0 00.027.018.08.08 0 00.031.006h1.66a.082.082 0 00.082-.082V84.15h1.118l1.698 3.757a.085.085 0 00.03.035.085.085 0 00.045.013h1.875a.08.08 0 00.058-.024.082.082 0 00.002-.114l-1.91-3.985zm-2.916-4.484h1.488c.849 0 1.397.619 1.397 1.578 0 .96-.548 1.582-1.397 1.582h-1.488v-3.16zM150.837 82.558l3.258-4.71a.088.088 0 00.014-.041.08.08 0 00-.009-.044.078.078 0 00-.072-.043h-1.948a.082.082 0 00-.039.01.096.096 0 00-.029.027l-3.003 4.615v-4.57a.083.083 0 00-.083-.082h-1.657a.084.084 0 00-.083.082v10.07c0 .022.009.043.024.058a.085.085 0 00.059.024h1.659a.085.085 0 00.058-.024.084.084 0 00.024-.058v-2.963l.699-1.036 2.529 4.044a.081.081 0 00.03.028c.012.007.025.01.039.011h1.98a.08.08 0 00.058-.024.084.084 0 00.024-.058.094.094 0 00-.008-.033.116.116 0 00-.021-.027l-3.503-5.256zM157.395 77.72h-1.66a.085.085 0 00-.058.024.083.083 0 00-.024.057v10.07c0 .023.009.044.024.06a.08.08 0 00.058.023h1.66a.08.08 0 00.058-.024.084.084 0 00.024-.058v-10.07a.083.083 0 00-.024-.058.085.085 0 00-.058-.024zM166.737 77.72h-1.675a.083.083 0 00-.083.082v6.28l-3.513-6.32a.08.08 0 00-.072-.042h-1.689a.081.081 0 00-.082.081v10.07a.08.08 0 00.024.06.08.08 0 00.058.023h1.659a.085.085 0 00.059-.024.084.084 0 00.024-.058v-6.477l3.618 6.516a.083.083 0 00.072.043h1.6a.08.08 0 00.058-.024.084.084 0 00.024-.059v-10.07a.083.083 0 00-.024-.057.083.083 0 00-.058-.024zM176.064 82.43h-3.711a.08.08 0 00-.058.024.08.08 0 00-.024.059v1.464a.08.08 0 00.024.058.08.08 0 00.058.024h2.06v1.759c-.3.33-.881.673-1.62.673-1.416 0-2.333-1.431-2.333-3.647 0-2.216.917-3.648 2.333-3.648.742 0 1.38.452 1.797 1.269.01.02.027.034.047.041a.08.08 0 00.062-.004l1.344-.649a.086.086 0 00.025-.019.074.074 0 00.016-.027.083.083 0 00-.003-.06c-.698-1.434-1.835-2.19-3.288-2.19-2.514 0-4.2 2.126-4.2 5.291 0 3.165 1.688 5.291 4.2 5.291 1.336 0 2.49-.54 3.337-1.57a.075.075 0 00.019-.052v-4.001a.093.093 0 00-.006-.034.079.079 0 00-.046-.046.083.083 0 00-.033-.006zM137.704 91.893c-2.468 0-4.127 2.126-4.127 5.291 0 3.165 1.66 5.291 4.127 5.291 2.467 0 4.14-2.125 4.14-5.29 0-3.166-1.663-5.292-4.14-5.292zm0 8.939c-1.372 0-2.257-1.433-2.257-3.648s.885-3.647 2.257-3.647 2.256 1.432 2.256 3.647c0 2.216-.885 3.648-2.256 3.648zM150.73 92.06h-1.676a.08.08 0 00-.058.024.084.084 0 00-.024.058v6.28l-3.514-6.32a.078.078 0 00-.03-.031.077.077 0 00-.041-.011h-1.69a.08.08 0 00-.058.024.08.08 0 00-.024.058v10.071a.083.083 0 00.082.082h1.659a.083.083 0 00.082-.082v-6.478l3.62 6.518a.079.079 0 00.03.03.079.079 0 00.042.012h1.599a.083.083 0 00.082-.082V92.142a.085.085 0 00-.023-.058.087.087 0 00-.027-.018.078.078 0 00-.031-.006zM158.156 100.665h-3.436v-8.524a.084.084 0 00-.024-.058.08.08 0 00-.058-.024h-1.658a.08.08 0 00-.058.024.08.08 0 00-.024.058v10.071a.083.083 0 00.082.082h5.176a.086.086 0 00.058-.024.083.083 0 00.024-.058v-1.464a.087.087 0 00-.024-.059.086.086 0 00-.058-.024zM165.411 92.1a.083.083 0 00-.07-.041h-1.842a.086.086 0 00-.074.046l-2.04 4.153-2.04-4.153a.08.08 0 00-.073-.046h-1.842a.079.079 0 00-.069.04.082.082 0 00-.011.04c0 .014.004.028.011.04l3.115 5.856v4.176c0 .011.002.022.006.032a.078.078 0 00.044.044c.01.004.021.006.031.006h1.663a.081.081 0 00.058-.024.1.1 0 00.018-.026.087.087 0 00.006-.032v-4.175l3.114-5.856a.082.082 0 00-.005-.08z"
        fill="#fff"
      />

      {parkingSpots.map((e, index) => (
        <ParkingSpace x={e.x} y={e.y} parkingNumber={e.id} pState={`${parking_view}_${e.parkingState}`} />
      ))}

      {/* <ParkingSpace x={40} parkingNumber={1} />
      <ParkingSpace x={116} parkingNumber={2} pState="user_assigned" />
      <ParkingSpace x={193} parkingNumber={3} pState="in_use" />
      <ParkingSpace x={270} parkingNumber={4} />
      <ParkingSpace x={347} parkingNumber={5} /> */}
      <defs>
        <clipPath id="Estacionamiento_svg__clip0_6_306">
          <path fill="#fff" transform="rotate(-90 350 -86)" d="M0 0h88v7H0z" />
        </clipPath>
      </defs>
    </svg>
  );
}

export default SvgEstacionamiento;
